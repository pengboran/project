<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>我们结婚啦</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0' />
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <script src="js/swiper.min.js"></script>
    <script src="js/swiper.animate.min.js"></script>
    <link href="css/index.css" rel="stylesheet" />
    <style>

    </style>
</head>
<body>

    <div class="swiper-container">
        <div class="swiper-wrapper">
            
            <div id="first" class="swiper-slide">
                <div class="imgbox">
                    <img src="show/first.jpg" />
                    <div class="welcome">
                        <div class="names">
                            张仁建&宋丽琼
                        </div>
                        <div class="words">
                            <div class="wedding ani resize" style="top: 5px;" swiper-animate-effect="zoomIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s">
                                2017.10.02
                            </div>
                            <div class="wedding ani resize" style="top: 22px;" swiper-animate-effect="bounceInDown" swiper-animate-duration="0.5s" swiper-animate-delay="1s">
                                我们要结婚啦!
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="swiper-slide"  >
                <div class="imgbox">
                    <!-- <img class="xzAni" src="show/p1.jpg" /> -->
                    <img class="xzAni" src="show/p1.png" />
                    <div class="circle" style="width: 150px; height: 150px; top: 20px; left: 5px;"></div>
                    <div class="circle fast" style="width: 100px; height: 100px; top: 120px; right: 5px;"></div>
                    <div class="circle" style="width: 100px; height: 100px; top: 120px; left: 5px;"></div>
                    <div class="circle fast" style="width: 100px; height: 100px; top: 220px; right: 35px;"></div>
                    <div class="circle fast" style="width: 120px; height: 120px; top: 320px; left: 15px;"></div>
                    <div class="circle" style="width: 150px; height: 150px; bottom: 20px; left: 5px;"></div>
                    <div class="txtwarper ani resize" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay=".5s">
                        <img src="show/lian.png" />
                    </div>
                </div>
            </div>
            <div class="swiper-slide" >
                <div class="imgbox">
                    <img class="xzAni" src="show/p2.png" />
                    <div class="circle" style="width: 150px; height: 150px; top: 50px; left: 5px;"></div>
                    <div class="circle fast" style="width: 100px; height: 100px; top: 120px; right: 5px;"></div>
                    <div class="txtwarper ani resize" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay=".5s">
                        <img src="show/er.png" style="height: 150px;width:150px;display: inline-block;" />
                    </div>
                </div>
              
            </div>
            <div class="swiper-slide"  >
                <div class="imgbox">
                    <img id="qzinimg" class="qzin" src="show/p3.png" />
                    <div class="circle" style="width: 150px; height: 150px; top: 20px; left: 5px;"></div>
                    <div class="circle fast" style="width: 100px; height: 100px; top: 120px; right: 5px;"></div>
                    <div class="circle fast" style="width: 120px; height: 120px; top: 320px; left: 15px;"></div>
                    <div class="txtwarper ani resize" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="5s">
                        <img src="show/er.png" style="height: 150px;width:150px;display: inline-block;" />
                    </div>
                </div>
            </div>
            <div class="swiper-slide" id="page4">
                <div class="imgbox horizontal">
                    <img class="moveX" src="show/p4.png" />
                    <div class="txtwarper ani resize" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay=".5s">
                        <img src="show/zhi.png" style="height: 200px;width: 200px;display: inline-block;" />
                    </div>
                </div>
            </div>
            <div class="swiper-slide" id="page5">
                <div class="imgbox">
                    <img class="xzAni" src="show/p5.png" />
                    <div class="circle fast" style="width: 100px; height: 100px; top: 120px; right: 5px;"></div>
                    <div class="circle" style="width: 100px; height: 100px; top: 120px; left: 5px;"></div>
                    <div class="circle fast" style="width: 120px; height: 120px; top: 320px; left: 15px;"></div>
                    <div class="circle" style="width: 150px; height: 150px; bottom: 20px; left: 5px;"></div>
                    <div class="txtwarper ani resize" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay=".5s">
                        <img src="show/shen.png" style="height: 200px;width: 200px;display: inline-block;" />
                    </div>
                </div>
            </div>
            <div id="last" class="swiper-slide">
                <div class="imgbox" style="height: 90vh">
                    <div class="info">
                        张仁建&宋丽琼<br />
                        2017年10月02日 8:00<br />
                        张家界慈利县<br />
                        岩泊渡镇双溪村五组
                        <div style="font-weight: bold;">诚邀您的见证与祝福!</div>
                    </div>

                    <div class="butons">
                        <a href="tel:15250198031" class=" btn">联系新郎</a>
                        <a href="tel:15807445880" class=" btn">联系新娘</a>
                    </div>
                </div>

            </div>
            
        </div>
        <img src="./images/upArrow.png" id="array" class="resize" />
    </div>


    <script>

        scaleW = window.innerWidth / 320;
        scaleH = window.innerHeight / 480;
        var resizes = document.querySelectorAll('.resize');
        for (var j = 0; j < resizes.length; j++) {
            resizes[j].style.width = parseInt(resizes[j].style.width) * scaleW + 'px';
            resizes[j].style.height = parseInt(resizes[j].style.height) * scaleH + 'px';
            resizes[j].style.top = parseInt(resizes[j].style.top) * scaleH + 'px';
            resizes[j].style.left = parseInt(resizes[j].style.left) * scaleW + 'px';
        }
        var mySwiper = new Swiper('.swiper-container', {
            autoplay:10000,//可选选项，自动滑动
            direction: 'vertical',
            mousewheelControl: true,
            loop: true,
            speed: 1200,
            zoom: true,
            pagination: '.swiper-pagination',
            paginationType: 'progress',
            onInit: function (swiper) {
                swiperAnimateCache(swiper);
                swiperAnimate(swiper);
            },
            onSlideChangeEnd: function (swiper) {
                swiperAnimate(swiper);
            },
            onTransitionEnd: function (swiper) {
                swiperAnimate(swiper);
            },
            onTouchStart: function (s) {
                console.log(s.activeIndex);
                if (s.activeIndex == 3) {
                    //说明将要滑动到第三章图
                    //给第三章图片加上样式
                    document.getElementById("qzinimg").className = "qzin";
                } else {
                    //移除样式
                    document.getElementById("qzinimg").className = "";
                }
            },

            watchSlidesProgress: true,

            onProgress: function (swiper) {
                for (var i = 0; i < swiper.slides.length; i++) {
                    var slide = swiper.slides[i];
                    var progress = slide.progress;
                    var translate = progress * swiper.height / 4;
                    scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
                    var opacity = 1 - Math.min(Math.abs(progress / 2), 0.5);
                    slide.style.opacity = opacity;
                    es = slide.style;
                    es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,' + translate + 'px,-' + translate + 'px) scaleY(' + scale + ')';
                }
            },

            onSetTransition: function (swiper, speed) {
                for (var i = 0; i < swiper.slides.length; i++) {
                    es = swiper.slides[i].style;
                    es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';

                }
            },

        })
    </script>
</body>

</html>
